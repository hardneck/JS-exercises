<!doctype html><html lang="zh-hant-tw">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sierpiński Triangle</title>

	<style>
		body {
			text-align: center;
		}
		canvas {
			padding: 4px;
			background-color: lightgray;
		}
		#result {
			font-size: 12px;
			color: white;
			background-color: steelblue;
			padding: 2px;
		}
	</style>

	<script>
		function pageOne(el) {
			const save = el.innerHTML;
			let count = 0;
			const palette = ['red', 'orange', 'yellow', 'green', 'blue',
				'indigo', 'violet'];
			const num = palette.length;

			function f_() {
				const i = count % num;
				count = count + 1;
				el.innerHTML = save + count;
				return palette[i];
			}

			return f_;
		}

		function curve(width, height, px, py, order) {
			if (order == 0) {
				cxt.beginPath();
				cxt.moveTo(px, py);
				cxt.lineTo(px - width / 2, py + height);
				cxt.lineTo(px + width / 2, py + height);
				cxt.lineTo(px, py);
				cxt.strokeStyle = myDisplay();
				cxt.stroke();
			}
			else {
				curve(width / 2, height / 2,
					px, py, order - 1);
				curve(width / 2, height / 2,
					px - width / 4, py + height / 2, order - 1);
				curve(width / 2, height / 2,
					px + width / 4, py + height / 2, order - 1);
			}
		}
	</script>
</head>

<body>
	<p>Sierpiński Triangle of Order 6</p>
	<canvas id="myCanvas" width="776" height="584"
		style="border: 1px solid #666;"></canvas>
	<p><span id="result">Number of triangles drawn: </span></p>

	<script>
		const canvas = document.getElementById("myCanvas");
		const cxt = canvas.getContext("2d");  // 2D rendering context
		const myDisplay = pageOne(document.getElementById("result"));

		cxt.lineCap = "round";
		cxt.lineWidth = 3;
		cxt.translate(4, 4);
		curve(canvas.width - 8, canvas.height - 8,
			(canvas.width - 8) / 2, 0, 6);
	</script>
</body></html>
